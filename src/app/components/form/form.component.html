<div class="container mt-5">

    <h1>Form</h1>

    <!-- Alert warning -->

    <div class="alert alert-warning alert-dismissible fade show" role="alert" id="alert" *ngIf="myform.errors">
        <strong>Something is wrong!</strong> You should fill all the form
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>

    <!-- Form start -->
    <form [formGroup]="myform" (ngSubmit)="onSubmit()">

        <!-- Name + surname fieldset -->
        <div class="row">

            <!-- Name input -->
            <div class="form-group col-sm">
                <label>Name</label>
                <input type="firstName" class="form-control" formControlName="firstName" required [ngClass]="{
                    'is-invalid':firstName.invalid && firstName.dirty,
                    'is-valid':firstName.valid && firstName.dirty }">

                <!-- Error message -->
                <div class="invalid-feedback" *ngIf="firstName.errors && (firstName.dirty || firstName.touched)">
                    <p *ngIf="firstName.errors.required">Name is required</p>
                    <p *ngIf="firstName.errors.minlength">Name must be 2 characters long</p>
                </div>
            </div>

            <!-- Surname input -->
            <div class="form-group col-sm">
                <label>Surname</label>
                <input type="lastName" class="form-control" formControlName="lastName" required [ngClass]="{
                    'is-invalid':lastName.invalid && lastName.dirty,
                    'is-valid':lastName.valid && lastName.dirty
                     }">

                <!-- Error message -->
                <div class="invalid-feedback" *ngIf="lastName.errors && (lastName.dirty || lastName.touched)">
                    <p *ngIf="lastName.errors.required">lastName is required</p>
                    <p *ngIf="lastName.errors.minlength">lastName must be 2 characters long</p>
                </div>
            </div>

        </div>



        <div class="row">
            <!-- Email -->
            <div class="form-group col-sm">
                <label>Email</label>
                <input type="email" class="form-control" formControlName="email" required [ngClass]="{
                    'is-invalid': email.invalid && email.dirty,
                    'is-valid': email.valid && email.dirty }">

                <!-- Error message -->
                <div class="invalid-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                    <p *ngIf="email.errors.required">email is required</p>
                    <p *ngIf="email.errors.pattern">Must be a valid email </p>
                </div>
            </div>

            <!-- Language -->
            <div class="form-group col-sm">

                <label>Language</label>
                <select class='form-control' formControlName="language" [ngClass]="{
                    'is-invalid':language.invalid && language.dirty,
                    'is-valid':language.valid && language.dirty }">
          <option *ngFor='let lang of langs' [value]='lang'>{{lang}}</option>
        </select>
                <!-- Error message -->
                <div class="invalid-feedback" *ngIf="language.errors && (language.dirty || language.touched)">
                    <p *ngIf="language.errors.required">language is required</p>
                </div>
            </div>

            <!-- Opinion -->
            <div class="col-sm">

                <label for="exampleFormControlSelect1">Opinion</label>
                <select #number class="form-control" formControlName="opinion" required [ngClass]="{
                    'is-invalid':opinion.invalid && opinion.dirty,
                    'is-valid':opinion.valid && opinion.dirty }">

          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>

        </select>
                <!-- Error message -->
                <div class="invalid-feedback" *ngIf="opinion.errors && (opinion.dirty || opinion.touched)">
                    <p *ngIf="opinion.errors.required">opinion is required</p>
                </div>
            </div>

        </div>

        <!-- Add something -->
        <div class="form-group">
            <label for="exampleFormControlTextarea1">Do you want to add something?</label>
            <textarea #text1 type="text" class="form-control" formControlName="addSomething" rows="3" required [ngClass]="{
                'is-invalid':addSomething.invalid && addSomething.dirty,
                'is-valid':addSomething.valid && addSomething.dirty }"></textarea>

            <div class="invalid-feedback" *ngIf="addSomething.errors && (addSomething.dirty || addSomething.touched)">
                <p *ngIf="addSomething.errors.required">addSomething is required</p>
                <p *ngIf="addSomething.errors.minlength">addSomething must be 6 characters long, we need another {{addSomething.errors.minlength.requiredLength - addSomething.errors.minlength.actualLength}} characters </p>
            </div>
        </div>

        <button class="btn btn-warning mt-3" type="submit">Submit</button>



    </form>